<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Memories</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800;900&display=swap"
        rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="base.css">
</head>

<body>

    <!-- INTRO CARD -->
    <section class="intro">
        <div class="card birthday-card" onclick="openCard()">
            <div>
                <span class="badge">üéâ Happy Birthday üéâ</span>
                <h1 style="color: brown;">For You</h1>
                <p>Click ƒë·ªÉ m·ªü thi·ªáp</p>
            </div>
        </div>
    </section>
    <section id="password" class="password">
        <div class="card password-card">
            <div>
                <span class="badge">üéâ Happy Birthday üéâ</span>
                <div class="icon-password">
                    <i class="fa-solid fa-cake-candles"></i>
                </div>
                <div class="form_password">
                    <i class="fa-regular fa-user"></i>
                    <input id="mk" type="password" style="border: none; outline: none; padding: 0px 8px;"
                        placeholder="Nh·∫≠p m·∫≠t kh·∫©u">
                    <button onclick="openPassword()">Enter</button>
                </div>
                <div class="hint_password">
                    <p> G·ª£i √Ω: ƒë√¢y l√† ng√†y r·∫•t tuy·ªát v·ªùi</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CONTENT -->
    <div class="content" id="content">
        <section class="hero">
            <div class="hero__border">
                <video id="heroVideo" autoplay muted playsinline preload="metadata">
                    <source src="./video/video_first.MOV" type="video/mp4">
                </video>
            </div>
        </section>
        <section class="showPopUp">
            <div class="showPopUp_img">
                <img src="./img/anh1.jpg" alt="Photo 1">
                <img src="./img/anh2.jpg" alt="Photo 2">
                <img src="./img/anh3.jpg" alt="Photo 3">
                <img src="./img/anh6.jpg" alt="Photo 6">
                <img src="./img/anh8.jpg" alt="Photo 4">
                <img src="./img/anh5.jpg" alt="Photo 5">
                <img src="./img/anh3_dua/anh3_8.jpg" alt="Photo 5">

            </div>
        </section>
        <section class="gallery-wrapper">
            <div class="gallery">
                <img src="./img/anh3_dua/anh3_1.jpg" alt="Photo 1">
                <img src="./img/anh3_dua/anh3_2.jpg" alt="Photo 2">
                <img src="./img/anh3_dua/anh3_3.jpg" alt="Photo 3">
                <img src="./img/anh3_dua/anh3_4.jpg" alt="Photo 4">
                <img src="./img/anh3_dua/anh3_5.jpg" alt="Photo 1">
                <img src="./img/anh3_dua/anh3_6.jpg" alt="Photo 2">
                <img src="./img/anh3_dua/anh3_7.jpg" alt="Photo 3">
                <img src="./img/anh3_dua/anh3_8.jpg" alt="Photo 4">
            </div>
        </section>
        <section class="video-section">
            <div class="box_gift">
                <img class="box_gift_icon" src="./img/gift.png" alt="" onclick="openGift()">
                <div class="gift_text">
                    <p>Click v√†o h·ªôp ƒë·ªÉ m·ªü qu√† nha</p>
                </div>
                <div class="video-box">
                <video controls>
                    <source src="./video/video_birthdayU.MOV" type="video/mp4">
                </video>
            </div>
            </div>
            
        </section>

        <footer>¬© 2025 Memories ‚Äì by Hien</footer>
    </div>

    <script>
        const Music="./img/music_amee.mp3";
        const audio = new Audio(Music);
        audio.loop = true;
        audio.volume = .8;

        function openGift() {
            const videoBox = document.querySelector('.video-box');
            videoBox.classList.add('active');
            const boxGiftIcon = document.querySelector('.box_gift_icon');
            const boxGifttitle = document.querySelector('.gift_text');
            boxGiftIcon.style.display = 'none';
            boxGifttitle.style.display = 'none';
            audio.pause();
        }
        function openCard() {
            const card = document.querySelector('.birthday-card');
            const intro = document.querySelector('.intro');
            const password = document.getElementById('password');

            card.classList.add('shake');

            setTimeout(() => {
                intro.style.display = 'none';
                password.classList.add('active');
                window.scrollTo(0, 0);
            }, 800);
        }
        function openPassword() {
            const mk = document.getElementById('mk').value;
            if (mk == '26122003' || mk == '26/12/2003' || mk.toLowerCase() == '26-12-2003' || mk == '261203') {
                const card = document.querySelector('.password-card');
                const password = document.querySelector('.password');
                const content = document.getElementById('content');

                card.classList.add('zoom');

                setTimeout(() => {
                    password.style.display = 'none';
                    content.classList.add('active');
                    window.scrollTo(0, 0);
                }, 800);
                audio.play().catch(e => console.log(e));
            } else {
                alert('M·∫≠t kh·∫©u l√† ng√†y sinh nh·∫≠t ƒë√≥ tr·ªùi ·∫° üòí.');
                document.getElementById('mk').value = '';
                document.getElementById('mk').focus();
            }
        }

        // Replay hero video when the hero section becomes visible again
        (function () {
            const vid = document.getElementById('heroVideo');
            const hero = document.querySelector('.hero');
            if (!vid || !hero) return;

            const io = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && entry.intersectionRatio > 0.4) {
                        try { vid.currentTime = 0; } catch (e) { }
                        vid.play().catch(() => { });
                    }
                });
            }, { threshold: [0, 0.25, 0.4, 0.6, 1] });

            io.observe(hero);
        })();
        // scroll fadeIn img
        document.addEventListener("DOMContentLoaded", () => {
            const images = document.querySelectorAll(".showPopUp_img img");

            const observer = new IntersectionObserver(
                (entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add("show");
                        }
                    });
                },
                {
                    threshold: 0.3
                }
            );

            images.forEach(img => observer.observe(img));
        });
    </script>

</body>

</html>
